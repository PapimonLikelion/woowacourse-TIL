### 2021-03-14

## VO
- 참고: https://woowacourse.github.io/javable/post/2020-06-11-value-object/

- __정의__
	- 도메인에서 한 개 혹은 그 이상의 속성들을 묶어서 "특정 값"을 나태내는 객체
		- ex) 좌표, 금액, 날짜 등
- __특징__
	- equals, hashCode 메서드를 재정의 할 것
		- 값 자체를 나타내는 객체이기에, 내부의 속성과 타입이 같다면 같은 VO로 보는 것이 타당하다
	- 불변객체로 만들 것
		- VO는 속성값 자체가 해당 객체의 고유한 식별값으로, 내부 속성값을 바꿀 수 있게 하면 안 된다
    - 값을 나타내는 게 중요한 것이지, 그 값을 가공해 지지고 볶는 것은 괜찮다
        - 즉, getter/setter 의외에 비즈니스 로직을 두어도 괜찮다!

``` Java
public class Money {
    private final int money;

    public Money(final int money) {
        this.money = money;
    }

    public int calculateProfit(double profitRate) {
        return (int) (money * profitRate);
    }

    public Money updateMoneyByProfit(final int profit) {
        return new Money(money + profit);
    }

    public int getMoney() {
        return money;
    }

    @Override
    public boolean equals(Object o) {
        if (this == o) return true;
        if (o == null || getClass() != o.getClass()) return false;
        Money money1 = (Money) o;
        return money == money1.money;
    }

    @Override
    public int hashCode() {
        return Objects.hash(money);
    }
}
```

## DTO
- 참고 1: 테코톡
- 참고 2: https://softwareengineering.stackexchange.com/questions/373284/what-is-the-use-of-dto-instead-of-entity
- 참고 3: https://velog.io/@maigumi/DTO%EC%9D%98-%EC%A0%81%EC%A0%88%ED%95%9C-%EC%82%AC%EC%9A%A9%EC%97%90-%EB%8C%80%ED%95%9C-%EA%B3%A0%EB%AF%BC

- __정의__
    - 계층 간 Data 전달을 위해 사용하는 객체
    - Data를 담아서 전달하는 바구니 역할

- __특징__
    - 순수하게 Data 전달만을 위한 객체라서, getter/setter 메서드만 가진다
        - getter/setter 이외의 메서드는 사용하지 말 것!
        - 애초에 계층간 "Data 이동"을 위한 객체인데, 다른 로직이 필요가 당연히 없다!
        - 생성자로 필드 초기화 하도록 하면, 불변성을 보장하게 설계 가능

- __필요성__
    - DB와 매핑되어 있는 클래스를 Entity 클래스라고 한다
    - DTO 클래스는 실질적으로 프론트엔드에 비춰줄 데이터를 의미한다
    - 이 둘을 왜 분리해야 하는가?
        - 객체는 역할에 따라서 생성해야 한다.
            - Entity 클래스는 DB와 매핑되어 있는 데이터를 정확히 저장하기 위한 클래스이고,
            - DTO 클래스는 View 단에서 출력에 필요한 데이터를 저장하는 클래스이다.
            - Entity 클래스 중 민감한 정보 (ex. 개인정보)를 포함한 객체를 통째로 View에 넘긴다? ㄴㄴ
        - 세상에 변하지 않는 것은 없다. 지금 당장 변하지 않는다고 정의가 되었더라고 변할 경우 대응할 여지는 남겨야 하는게 설계다
                    
                    
## 원시값 포장 vs VO
- __원시값 포장__
    - 원시값을 다루는 책임을 부여
    - "원시값"만 포장
    - 동등성 지킬수도 있고, 아니여도 된다
    - 불변을 지킬수도 있고, 아니여도 된다
    
- __VO__
    - 객체를 "값"으로 표현하기 위함
    - "값"을 포장해야 되기 때문에, 꼭 원시값이 아니여도 된다
        - VO 객체 안에서 다른 객체를 참조할 수도 있다
            - *ex) 주소라는 VO 내부에 나라 Obj, 도시 Obj 등등...*
    - 동등성 보장
    - 불변 보장
    
- __String이 자바에서 대표적인 VO__
    - char 배열을 하나의 "값"으로 보기 때문에 이를 포장했다!

- __동등성 vs 동일성__
    - 동등성(equals)
        - 두 오브젝트가 같은 정보를 가지고 있을 경우
    - 동일성(==)
        - 두 오브젝트가 완전히 같은 경우
        - 메모리에 찍힌 정보가 완전히 같은 경우
            - 따라서, 같은 참조값을 가진 객체
            - 데이터를 메모리에 바로 나타내는 원시값들

## 함수형 인터페이스

## 상태 패턴